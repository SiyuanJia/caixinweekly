# é™æ€æ•°æ®ç›®å½•

æ­¤ç›®å½•å­˜æ”¾å‘¨åˆŠçš„é™æ€æ•°æ®æ–‡ä»¶ï¼Œä¾›å‰ç«¯ç›´æ¥è®¿é—®ã€‚

## ğŸ“‚ ç›®å½•ç»“æ„

```
data/
â”œâ”€â”€ issues/
â”‚   â””â”€â”€ 2025-40.json          # æœŸæ¬¡æ•°æ®ï¼ˆå«æ–‡ç« åˆ—è¡¨ã€AIæ‘˜è¦ç­‰ï¼‰
â”œâ”€â”€ pdfs/
â”‚   â””â”€â”€ 2025-40.pdf           # PDF åŸæ–‡ä»¶
â””â”€â”€ markdown/
    â””â”€â”€ 2025-40.md            # Markdown æ–‡æœ¬ï¼ˆå¯é€‰ï¼Œå¤‡ä»½ç”¨ï¼‰
```

## ğŸ“ æ–‡ä»¶è¯´æ˜

### `issues/{issueId}.json`
åŒ…å«ä¸€æœŸå‘¨åˆŠçš„å®Œæ•´æ•°æ®ï¼š
- æœŸæ¬¡ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€å‘å¸ƒæ—¥æœŸï¼‰
- æ–‡ç« åˆ—è¡¨
- æ¯ç¯‡æ–‡ç« çš„ï¼šå°é¢å›¾ã€AIæ‘˜è¦ã€æ ¸å¿ƒæ´å¯Ÿã€å…è´£å£°æ˜ã€é¡µç ç­‰

### `pdfs/{issueId}.pdf`
åŸå§‹ PDF æ–‡ä»¶ï¼Œç”¨äºé˜…è¯»å™¨å±•ç¤ºã€‚

### `markdown/{issueId}.md`
å¯é€‰çš„ Markdown å¤‡ä»½æ–‡ä»¶ã€‚

## ğŸš€ éƒ¨ç½²æ–°æœŸæ¬¡

ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼š

```bash
# 1. ç”Ÿæˆ JSON æ–‡ä»¶
python tools/build_issue_from_md.py \
  --issue-id 2025-40 \
  --md-files ./2025-40-part1.md ./2025-40-part2.md \
  --outline ./input/2025-40-outline.json \
  ...

# 2. éƒ¨ç½²åˆ° public/
./scripts/deploy-issue.sh 2025-40

# 3. æäº¤åˆ° Git
git add public/data/
git commit -m "æ·»åŠ ç¬¬ 2025-40 æœŸå‘¨åˆŠ"
git push
```

## âš™ï¸ Git é…ç½®å»ºè®®

### é€‰é¡¹ 1ï¼šå…¨éƒ¨çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼ˆæ¨èï¼‰
```bash
# æ‰€æœ‰æ–‡ä»¶éƒ½ commit
git add public/data/
```

**ä¼˜ç‚¹**ï¼šéƒ¨ç½²ç®€å•ï¼Œä¸€æ¬¡ push å³å¯
**ç¼ºç‚¹**ï¼šPDF æ–‡ä»¶å¤§ï¼Œä»“åº“ä¼šå˜å¤§

### é€‰é¡¹ 2ï¼šä»… JSON çº³å…¥ç‰ˆæœ¬æ§åˆ¶
åœ¨ `.gitignore` ä¸­æ·»åŠ ï¼š
```
# å¿½ç•¥ PDF æ–‡ä»¶
public/data/pdfs/
```

**ä¼˜ç‚¹**ï¼šGit ä»“åº“å°
**ç¼ºç‚¹**ï¼šéœ€è¦å•ç‹¬æ‰˜ç®¡ PDF

### é€‰é¡¹ 3ï¼šä½¿ç”¨ Git LFS
```bash
git lfs track "public/data/pdfs/*.pdf"
git add .gitattributes
```

**ä¼˜ç‚¹**ï¼šGit å†å²æ¸…çˆ½ï¼Œæ–‡ä»¶æ‰˜ç®¡åœ¨ LFS
**ç¼ºç‚¹**ï¼šéœ€è¦ Git LFS æœåŠ¡

## ğŸŒ è®¿é—® URL

### å¼€å‘ç¯å¢ƒ
```
http://localhost:5173/data/issues/2025-40.json
http://localhost:5173/data/pdfs/2025-40.pdf
```

### ç”Ÿäº§ç¯å¢ƒ
```
https://yourdomain.com/data/issues/2025-40.json
https://yourdomain.com/data/pdfs/2025-40.pdf
```

## ğŸ“Š æ–‡ä»¶å¤§å°å‚è€ƒ

- JSON: ~20-50 KB
- PDF: ~30-100 MB
- Markdown: ~100-300 KB

## ğŸ”„ æ›´æ–°æµç¨‹

1. **ç”Ÿæˆæ–°æœŸæ¬¡æ•°æ®**
   ```bash
   python tools/build_issue_from_md.py --issue-id 2025-41 ...
   ```

2. **éƒ¨ç½²åˆ° public/**
   ```bash
   ./scripts/deploy-issue.sh 2025-41
   ```

3. **æäº¤å¹¶æ¨é€**
   ```bash
   git add public/data/
   git commit -m "æ·»åŠ ç¬¬ 2025-41 æœŸå‘¨åˆŠ"
   git push
   ```

4. **è‡ªåŠ¨éƒ¨ç½²**ï¼ˆå¦‚æœä½¿ç”¨ Vercel/Netlifyï¼‰
   - æ¨é€åè‡ªåŠ¨è§¦å‘éƒ¨ç½²
   - çº¦ 1-3 åˆ†é’Ÿå®Œæˆ
   - æ–°æœŸæ¬¡è‡ªåŠ¨ä¸Šçº¿

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶å‘½å**ï¼šç»Ÿä¸€ä½¿ç”¨ `{year}-{week}` æ ¼å¼ï¼ˆå¦‚ `2025-40`ï¼‰
2. **PDF å¤§å°**ï¼šå•ä¸ªæ–‡ä»¶å»ºè®® < 100MB
3. **JSON æ ¼å¼**ï¼šä¸¥æ ¼éµå¾ª schemaï¼Œç¡®ä¿å‰ç«¯å¯è§£æ
4. **å›¾ç‰‡ URL**ï¼šJSON ä¸­çš„ `coverImage` ä½¿ç”¨å®Œæ•´ URLï¼ˆä¸è¦ç”¨ç›¸å¯¹è·¯å¾„ï¼‰

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: æ–‡ä»¶è®¿é—® 404ï¼Ÿ
A: æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿åœ¨ `public/data/` ä¸‹

### Q: Git ä»“åº“å¤ªå¤§ï¼Ÿ
A: è€ƒè™‘ä½¿ç”¨ Git LFS æˆ–å°† PDF å•ç‹¬æ‰˜ç®¡

### Q: å¦‚ä½•åˆ é™¤æ—§æœŸæ¬¡ï¼Ÿ
A: ç›´æ¥åˆ é™¤å¯¹åº”æ–‡ä»¶ï¼Œé‡æ–° commit å’Œ push

---

**æœ€åæ›´æ–°**ï¼š2025-11-06

